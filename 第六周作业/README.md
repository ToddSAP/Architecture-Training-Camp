### 简述CAP原理  
&nbsp;&nbsp;&nbsp;&nbsp;CAP是指Consistency、Availability和Partition Tolerence，即一致性、可用性和分区容忍性。    
&nbsp;&nbsp;&nbsp;&nbsp;CAP是用来指导分布式系统设计的理论基础。   
&nbsp;&nbsp;&nbsp;&nbsp;一致性是指分布式系统中所有节点上的数据都是强一致的。如Hadoop将文件冗余三份存储在HDFS上，这三份数据在任何时间点上被使用时都是相同的。   
&nbsp;&nbsp;&nbsp;&nbsp;可用性是指分布式系统中所有节点的数据在任何时间都是可以被访问到并被正确读取和使用的。   
&nbsp;&nbsp;&nbsp;&nbsp;分区容忍性是指分布式系统中部分节点损坏时，系统还是可用的。   
&nbsp;&nbsp;&nbsp;&nbsp;要明确这三点之间的关系，可以从分布式系统的结构说起。分布式系统顾名思义，是由分布在多个机器上的服务同时对外提供服务，现实中，机器一定会随时间推移而损坏，这是无法避免的，所以就需要在损坏时考虑系统还能否可用，数据是否丢失，数据是否一致这三个问题。先看第一个，如果要在机器损坏时让系统还可用，则必须做备份，在机器损坏时从备份恢复或切换到备份，但恢复或切换是需要时间的，在这个时间窗口中，系统的数据是不一致的。再看第二个，如果系统数据每个时刻都要一致，需要所有操作都是事务性的，而事务的性质决定了在高并发下无法做到高吞吐，那么必然有阻塞发生，对于系统来说就是卡顿或loading，是不可用状态。最后看第三个，分区容忍就是在机器损坏时保持高可用，那么从第一点的讨论来看，是无法做到一致性的。   
&nbsp;&nbsp;&nbsp;&nbsp;在实际工作中，需要根据场景来有侧重点的选择三者的关系。如在银行、证券交易场景下，数据一致性是第一位，那么必然要在一定程度上牺牲可用性。而在电商场景下，可用性是第一位的，那么数据一致性必然要有所妥协。  


### 总结   


